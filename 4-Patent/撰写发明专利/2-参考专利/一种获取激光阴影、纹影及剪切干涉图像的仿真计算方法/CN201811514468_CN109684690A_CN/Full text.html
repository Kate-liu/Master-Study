<html><head><title>全文文本(Fulltext)</title><meta http-equiv='Content-Type' content='text/html; charset=UTF-8'><style>div.fullText table {width: 100%;text-indent: 1px;} 
 div.fullText table td.header {font-weight: bold;text-align: center;font-family: '宋体';font-size: 16px;line-height:20px;color: #000000;padding: 5px;}div.fullText table td.content {padding: 1px;text-align: left;vertical-align: top;width: 100%;font-family: '宋体';font-size: 14px;line-height:20px;color: #000000;}</style></head><body><?xml version="1.0" encoding="UTF-8"?><div xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:siposeas="java:com.neusoft.sipo.sipopublicsearch.search.app.view.detailUtils.xsltParser.XsltSeasParser" xmlns:str="http://example.com/namespace" xmlns:business="http://www.sipo.gov.cn/XMLSchema/business" xmlns:base="http://www.sipo.gov.cn/XMLSchema/base" xmlns:tbl="http://oasis-open.org/specs/soextblx" class="fullText"><table><tr><td id="claim_title" class="header">权利要求书</td></tr><tr><td class="content" id="claim_1"><business:ClaimText>1.一种获取激光阴影、纹影及剪切干涉图像的仿真计算方法，其特征在于，所述方法包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_2"><business:ClaimText>获取被测区域的轴对称的折射率分布；</business:ClaimText></td></tr><tr><td class="content" id="claim_3"><business:ClaimText>根据所述被测区域的轴对称的折射率分布折射率分布，利用四阶龙格库塔法迭代，计算得到激光的光线传播轨迹；</business:ClaimText></td></tr><tr><td class="content" id="claim_4"><business:ClaimText>根据所述激光的传播轨迹，按照预设的算法，计算得到激光阴影、纹影及剪切干涉图像。</business:ClaimText></td></tr><tr><td class="content" id="claim_5"><business:ClaimText>2.如权利要求1所述的方法，其特征在于，所述获取被测区域的轴对称的折射率分布包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_6"><business:ClaimText>获取所述被测区域的轴对称的密度分布；</business:ClaimText></td></tr><tr><td class="content" id="claim_7"><business:ClaimText>根据所述被测区域的轴对称的密度分布，利用如下格拉德斯通-戴尔公式，计算得到对应的轴对称的折射率分布；</business:ClaimText></td></tr><tr><td class="content" id="claim_8"><business:ClaimText><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708498&amp;blobId=3598728461" width="278"/>其中，ρ(r)是轴对称的密度分布，n(r)为对应的折射率分布，K为格拉德斯通-戴尔常数。</business:ClaimText></td></tr><tr><td class="content" id="claim_9"><business:ClaimText>3.如权利要求1所述的方法，其特征在于，所述获取被测区域的轴对称的折射率分布包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_10"><business:ClaimText>获取所述被测区域的轴对称的流体温度；</business:ClaimText></td></tr><tr><td class="content" id="claim_11"><business:ClaimText>根据所述被测区域的轴对称的流体温度，计算得到对应的轴对称的密度分布；</business:ClaimText></td></tr><tr><td class="content" id="claim_12"><business:ClaimText>根据所述轴对称的密度分布，计算得到对应的轴对称的折射率分布。</business:ClaimText></td></tr><tr><td class="content" id="claim_13"><business:ClaimText>4.如权利要求1所述的方法，其特征在于，所述根据所述被测区域的轴对称的折射率分布折射率分布，利用四阶龙格库塔法迭代，计算得到激光的光线传播轨迹包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_14"><business:ClaimText>从激光光线入射点开始，利用如下公式，计算得到半径步长与角度步长的比值的绝对值，</business:ClaimText></td></tr><tr><td class="content" id="claim_15"><business:ClaimText><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708672&amp;blobId=3598550519" width="492"/>其中，α<base:Sub>0</base:Sub>是每条入射光线的初始偏转角度，n<base:Sub>0</base:Sub>为入射平面处的初始折射率，r<base:Sub>0</base:Sub>，<img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708338&amp;blobId=3598712142" width="51"/>为每条光线的初始位置；</business:ClaimText></td></tr><tr><td class="content" id="claim_16"><business:ClaimText>如果所述绝对值大于预设的上限阈值，则将dr取预设的半径步长，利用上述公式，计算得到角度步长dθ，并确定下一个的点；</business:ClaimText></td></tr><tr><td class="content" id="claim_17"><business:ClaimText>如果所述绝对值小于预设的下限阈值，则dθ取预设的角度步长，利用上述公式，计算得到半径步长dr，并确定下一个的点；</business:ClaimText></td></tr><tr><td class="content" id="claim_18"><business:ClaimText>如果所述绝对值小于或等于所述预设的上限阈值，大于或等于所述预设的下限阈值，则dθ取任意角度步长或dr取任意半径步长。</business:ClaimText></td></tr><tr><td class="content" id="claim_19"><business:ClaimText>5.如权利要求1所述的方法，其特征在于，所述根据所述被测区域的轴对称的折射率分布折射率分布，利用四阶龙格库塔法迭代，计算得到激光的光线传播轨迹还包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_20"><business:ClaimText>sl＝[r(i)-r(i-1)]/[θ(i)-θ(i-1)]，其中，sl为判定值，r为半径，θ为角度；</business:ClaimText></td></tr><tr><td class="content" id="claim_21"><business:ClaimText>如果判定值大于或等于零，则半径步长dr取负值；</business:ClaimText></td></tr><tr><td class="content" id="claim_22"><business:ClaimText>如果判定值小于零，则半径步长dr取正值。</business:ClaimText></td></tr><tr><td class="content" id="claim_23"><business:ClaimText>6.如权利要求1所述的方法，其特征在于，所述根据所述激光的传播轨迹，按照预设的算法，计算得到激光阴影图像包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_24"><business:ClaimText>在像平面上划分出预设的区间；</business:ClaimText></td></tr><tr><td class="content" id="claim_25"><business:ClaimText>根据所述激光的光线传播轨迹，计算折射率变化区域外的光线反向延长线与物平面的交点；</business:ClaimText></td></tr><tr><td class="content" id="claim_26"><business:ClaimText>根据所述交点，计算得到像平面上对应的光线坐标；</business:ClaimText></td></tr><tr><td class="content" id="claim_27"><business:ClaimText>如果所述光线坐标对应的光线不被凸透镜接收，则在像平面的预设区间内不统计所述光线；如果所述光线坐标对应的光线被凸透镜接收，则在像平面的预设区间内统计所述光线；</business:ClaimText></td></tr><tr><td class="content" id="claim_28"><business:ClaimText>根据统计的在像平面的预设区间内的光线，得到激光阴影图像。</business:ClaimText></td></tr><tr><td class="content" id="claim_29"><business:ClaimText>7.如权利要求1所述的方法，其特征在于，所述根据所述激光的传播轨迹，按照预设的算法，计算得到激光纹影图像包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_30"><business:ClaimText>在像平面上划分出预设的区间；</business:ClaimText></td></tr><tr><td class="content" id="claim_31"><business:ClaimText>根据所述激光的光线传播轨迹，计算折射率变化区域外的光线反向延长线与物平面的交点；</business:ClaimText></td></tr><tr><td class="content" id="claim_32"><business:ClaimText>根据所述交点，计算得到像平面上对应的光线坐标；</business:ClaimText></td></tr><tr><td class="content" id="claim_33"><business:ClaimText>如果所述光线坐标对应的光线被凸透镜接收，且所述光线经刀口向上偏转，则在像平面的预设区间内统计所述光线；根据统计的在像平面的预设区间内的光线，得到激光纹影图像。</business:ClaimText></td></tr><tr><td class="content" id="claim_34"><business:ClaimText>8.如权利要求1所述的方法，其特征在于，所述根据所述激光的传播轨迹，按照预设的算法，计算得到剪切干涉图像包括：</business:ClaimText></td></tr><tr><td class="content" id="claim_35"><business:ClaimText>根据光源平面上的初始均匀分布的光线，利用光线追迹，得到每条光线在像平面上的对应坐标y<base:Sub>i</base:Sub>和光程l<base:Sub>i</base:Sub>；</business:ClaimText></td></tr><tr><td class="content" id="claim_36"><business:ClaimText>根据所述坐标y<base:Sub>i</base:Sub>和光程l<base:Sub>i</base:Sub>，利用差值函数，得到光程关于像点坐标y的函数l<base:Sub>1</base:Sub>(y)＝interp1([y<base:Sub>i</base:Sub>],[l<base:Sub>i</base:Sub>],y)和平移后的光程函数l<base:Sub>2</base:Sub>(y)＝l(y-y<base:Sub>shear</base:Sub>)＝interp1([y<base:Sub>i</base:Sub>],[l<base:Sub>i</base:Sub>],y-y<base:Sub>shear</base:Sub>)，yshear为y方向相对位移；</business:ClaimText></td></tr><tr><td class="content" id="claim_37"><business:ClaimText>根据所述光程关于像点坐标y的函数和平移后的光程函数，得到光强幅值向量函数A(y)；</business:ClaimText></td></tr><tr><td class="content" id="claim_38"><business:ClaimText>根据坐标y<base:Sub>i</base:Sub>，利用如下公式，计算得像平面上的剪切干涉图像；</business:ClaimText></td></tr><tr><td class="content" id="claim_39"><business:ClaimText><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708193&amp;blobId=3598775963" width="492"/></business:ClaimText></td></tr><tr><td class="content" id="claim_40"><business:ClaimText>其中，l(y-y<base:Sub>sheay</base:Sub>)为平移后的光程函数，l(y)为光程关于像点坐标y的函数，A为光强幅值，yshear为y方向相对位移。</business:ClaimText></td></tr></table></div><div xmlns:xs="http://www.w3.org/2001/XMLSchema" xmlns:siposeas="java:com.neusoft.sipo.sipopublicsearch.search.app.view.detailUtils.xsltParser.XsltSeasParser" xmlns:str="http://example.com/namespace" xmlns:business="http://www.sipo.gov.cn/XMLSchema/business" xmlns:base="http://www.sipo.gov.cn/XMLSchema/base" xmlns:tbl="http://oasis-open.org/specs/soextblx" class="fullText"><table style="table-layout:fixed"><tr><td id="description_title" class="header">
						说明书
					</td></tr><tr><td class="content" id="description_invention_title">一种获取激光阴影、纹影及剪切干涉图像的仿真计算方法</td></tr><tr><td class="content" id="description_1">技术领域</td></tr><tr><td class="content" id="description_2">本申请涉及图像处理领域，尤其涉及一种获取激光阴影、纹影及剪切干涉图像的仿真计算方法。</td></tr><tr><td class="content" id="description_3">背景技术</td></tr><tr><td class="content" id="description_4">在工程热物理和流体学科领域中，对于流体的温度场和浓度场的测量是十分重要的。通常利用流体的光学性质，由光学显示技术来测定流体热力学状态参数的空间分布。</td></tr><tr><td class="content" id="description_5">流体的温度、压力、浓度和马赫数等状态参数与密度有确定的函数关系，而流体的光学折射率是其密度的函数。流体的不均匀的折射率场对通过流体的光线会产生扰动，一般会发生两种类型的变化：(1)光线传播偏离原来的方向；(2)扰动光线相对于未扰动光线发生了相位差，光学显示技术的基本原理就是根据光线传播方向的偏离或位相差来确定流体的折射率变化，从而进一步地确定流体的一些状态参数。</td></tr><tr><td class="content" id="description_6">常用的诊断方法有三大类：</td></tr><tr><td class="content" id="description_7">根据光线的偏折角来确定折射率一阶导数的纹影法和散斑照相法。</td></tr><tr><td class="content" id="description_8">根据光线在投影面上的偏折来确定折射率二阶导数的阴影法。</td></tr><tr><td class="content" id="description_9">根据光线位相变化即光程长度的差值来确定折射率的剪切干涉法。</td></tr><tr><td class="content" id="description_10">这些诊断方法和其它测量技术相比有很多优点，它们没有扰动流场的测试探头，光线对待测流体的温度场、浓度场和速度场无干扰作用，再加上光线传播十分迅速，可以用来研究比较快速的动态过程，用一定的光学显示技术可以吧测试对象的图形记录下来，从而确定某一瞬时、一定面积范围内各测量参数的空间分布。</td></tr><tr><td class="content" id="description_11">但上述三种光学诊断显示方法本质上都是积分形式的，沿光线传播方向将待测物理量加以积分，通常只适合测量一维场和二维场，在这些场中，沿光线传播没有折射率的变化，只有光线进出测试段时才有突然的不连续变化，对于三维场，一般只能测量沿光线路程的平均值，除非在一定的测试条件下，可以通过某种变换，来求得折射率在空间的分布。</td></tr><tr><td class="content" id="description_12">试验阴影、纹影、剪切干涉技术被广泛地应用于流场的定性和定量显示，这三种图像都是光线穿过流畅的结果，吉鲁的强度变化是相位变化和角度便宜的函数。阴影法记录的是偏折位置差，反映的事折射率梯度的变化(即折射率n的二阶导数)，阴影系统经常用于密度梯度变化很大的地方，也适用于大的尺度，相对地材料要求较低，成本最低，但通常只能定性分析测试区域内的折射率/密度分布，常用于流场结构的显示，特别是流场中激波位置的探测。纹影法记录的是偏折角度差，反映的是折射率的梯度(即折射率的一阶导数变化)，但通常的成像平面无法定量衡量照度的大小，一般只用来判断测试区域一阶导数的正负变化情况。剪切干涉法记录的是光波相位差，反映的是折射率本身，剪切干涉系统通常对环境震动比较敏感，安装复杂，可以提供定量信息，但是成本较高，并且一般只能测量较小的物体。</td></tr><tr><td class="content" id="description_13">总之，阴影法和纹影法对于仪器的要求较低，在阴影和纹影系统中，强度变化(亮和暗区域)常用于体现有较大折射率梯度的流场特性，比如激波、剪切层和膨胀层，适用的范围更广，但一般只能作定性分析(观察密度场的变化规律)，不能提供定量的数据。而剪切干涉法虽可根据光线位相变化或光程长度的差值给出折射率和密度的定量结果，但受计算方法误差以及实验误差的影响，常常也无法确定获得的测试区域的空间折射率分布是否足够准确。</td></tr><tr><td class="content" id="description_14">发明内容</td></tr><tr><td class="content" id="description_15">为了解决上述问题，本申请提供了一种获取激光阴影、纹影及剪切干涉图像的仿真计算方法。</td></tr><tr><td class="content" id="description_16">本申请提供了一种获取激光阴影、纹影及剪切干涉图像的仿真计算方法，所述方法包括：</td></tr><tr><td class="content" id="description_17">获取被测区域的轴对称的折射率分布；</td></tr><tr><td class="content" id="description_18">根据所述被测区域的轴对称的折射率分布折射率分布，利用四阶龙格库塔法迭代，计算得到激光的光线传播轨迹；</td></tr><tr><td class="content" id="description_19">根据所述激光的传播轨迹，按照预设的算法，计算得到激光阴影、纹影及剪切干涉图像。</td></tr><tr><td class="content" id="description_20">由以上技术方案可知，本申请提供了一种获取激光阴影、纹影及剪切干涉图像的仿真计算方法，，只需给定目标区域轴对称的折射率分布以及光线的初始条件(数目、入射角、初始坐标)即可获得准确的光线传播轨迹，根据此轨迹和光学成像的原理，可以进一步地获得单透镜成像的阴影、纹影和剪切干涉图像。计算得到的阴影、纹影和剪切干涉图像可以与实验互相验证，验证给定的目标区域的折射率分布，检验阴影仪、纹影仪、剪切干涉仪等仪器或计算方法获得的折射率分布，分析这些仪器或者计算方法的可靠性以及误差。进一步地可以在此基础上修正给定的目标区域的折射率分布，直到得到与实验一致的的计算结果，此时可以进一步地根据准确的测试区域折射率分布来推导出相应的密度、浓度以及温度等状态量的分布。此外，本发明还可以配合阴影、纹影成像技术获得比较合理的轴对称折射率分布。阴影法和纹影法对于仪器的要求较低，适用范围也更广，在没有可靠仪器分析的场合，可以利用此方法和简单的仪器获得较准确的目标区域的折射率分布。</td></tr><tr><td class="content" id="description_21">附图说明</td></tr><tr><td class="content" id="description_22">为了更清楚地说明本申请的技术方案，下面将对实施例中所需要使用的附图作简单地介绍，显而易见地，对于本领域普通技术人员而言，在不付出创造性劳动性的前提下，还可以根据这些附图获得其他的附图。</td></tr><tr><td class="content" id="description_23">图1为本申请提供的一种获取激光阴影、纹影及剪切干涉图像的仿真计算方法的流程图；</td></tr><tr><td class="content" id="description_24">图2为探测激光束的折射轨迹原理图；</td></tr><tr><td class="content" id="description_25">图3为步骤13的一实施例的流程图；</td></tr><tr><td class="content" id="description_26">图4(a)为无透镜聚焦时计算阴影图像的原理图；</td></tr><tr><td class="content" id="description_27">图4(b)为单透镜成像时计算纹影图像的原理图；</td></tr><tr><td class="content" id="description_28">图4(c)为单透镜成像时计算阴影及剪切干涉图像的原理图；</td></tr><tr><td class="content" id="description_29">图5为步骤13的另一实施例的流程图；</td></tr><tr><td class="content" id="description_30">图6为步骤13的另一实施例的流程图；</td></tr><tr><td class="content" id="description_31">图7为折射定律计算光的折射的示意图。</td></tr><tr><td class="content" id="description_32">具体实施方式</td></tr><tr><td class="content" id="description_33">参见图1.本申请提供了一种获取激光阴影、纹影及剪切干涉图像的仿真计算方法，包括如下步骤：</td></tr><tr><td class="content" id="description_34">步骤11：获取被测区域的轴对称的折射率分布。</td></tr><tr><td class="content" id="description_35">如果获取的是被测区域的轴对称的密度分布，则按照如下步骤将轴对称的密度分布转换为轴对称的折射率分布：</td></tr><tr><td class="content" id="description_36">(1)获取所述被测区域的轴对称的密度分布。</td></tr><tr><td class="content" id="description_37">(2)根据所述被测区域的轴对称的密度分布，利用如下格拉德斯通-戴尔公式，计算得到对应的轴对称的折射率分布；</td></tr><tr><td class="content" id="description_38"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708558&amp;blobId=3598735273" width="278"/>其中，ρ(r)是轴对称的密度分布，n(r)为对应的折射率分布，K为格拉德斯通-戴尔常数。</td></tr><tr><td class="content" id="description_39">对于水介质的折射率分布，使用以下公式来计算，</td></tr><tr><td class="content" id="description_40">n(r)＝1.332+0.322[ρ(r)-ρ<base:Sub>0</base:Sub>]；</td></tr><tr><td class="content" id="description_41">其中,ρ<base:Sub>0</base:Sub>是静水密度，1.332为静水的折射率。</td></tr><tr><td class="content" id="description_42">如果获取的是被测区域的轴对称的流体温度，则按照如下步骤将轴对称的密度分布转换为轴对称的折射率分布：</td></tr><tr><td class="content" id="description_43">(1)获取所述被测区域的轴对称的流体温度。</td></tr><tr><td class="content" id="description_44">(2)根据所述被测区域的轴对称的流体温度，计算得到对应的轴对称的密度分布。</td></tr><tr><td class="content" id="description_45">对于气流，如果在气流中的压力可以认为是常数，并且理想气体状态方程成立，则有</td></tr><tr><td class="content" id="description_46"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708675&amp;blobId=3598674429" width="203"/></td></tr><tr><td class="content" id="description_47">其中，P为压力，T为温度，M为气体分子量，R为气体常数。对于其它流体的温度与密度的关系可以查阅相关的实验拟合曲线。</td></tr><tr><td class="content" id="description_48">同样，已知测试区域的浓度分布，也可以用混合气体的G-D公式获得混合气体的折射率n<base:Sub>c</base:Sub>，即</td></tr><tr><td class="content" id="description_49"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708365&amp;blobId=3598451431" width="336"/></td></tr><tr><td class="content" id="description_50">其中，K<base:Sub>i</base:Sub>为各组分的G-D常数，ρ<base:Sub>i</base:Sub>为各组分的密度。</td></tr><tr><td class="content" id="description_51">值得注意的是，对于本发明方法，上述的流体的温度、密度、浓度分布需要是轴对称的，如果确定了给定的折射率分布时正确的，可以反过来推导出流体对对应的状态参量分布。</td></tr><tr><td class="content" id="description_52">(3)根据所述轴对称的密度分布，计算得到对应的轴对称的折射率分布。</td></tr><tr><td class="content" id="description_53">步骤12：根据所述被测区域的轴对称的折射率分布折射率分布，利用四阶龙格库塔法迭代，计算得到激光的光线传播轨迹。</td></tr><tr><td class="content" id="description_54">具体地，参见图2，从激光光线入射点开始，利用如下公式，计算得到半径步长与角度步长的比值的绝对值，</td></tr><tr><td class="content" id="description_55"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708595&amp;blobId=3598676015" width="492"/>其中，α<base:Sub>0</base:Sub>是每条入射光线的初始偏转角度，n<base:Sub>0</base:Sub>为入射平面处的初始折射率，r<base:Sub>0</base:Sub>，<img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708135&amp;blobId=3598565768" width="58"/>为每条光线的初始位置。</td></tr><tr><td class="content" id="description_56">此外，理论上<img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708414&amp;blobId=3598755949" width="492"/>的最小值为0，对应dr＝0，r值最小时，但数值计算存在误差，此最小值可能为负。此时光线正沿着近似角向的方向传播，在<img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708444&amp;blobId=3598594267" width="492"/>值达到负值时刻认为光线的传播方向不变，不发生折射，取固定的x方向步长dx，计算y方向步长dy，直到<img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708273&amp;blobId=3598234049" width="492"/>的值大于0。</td></tr><tr><td class="content" id="description_57">右侧方程的数值恒为正，但在光线的传播过程中r会先减小后增大，dr存在正负的变换，但θ一直在减小，dθ恒为负，因此可以设置一个判定值sl＝[r(i)-r(i-1)]/[θ(i)-θ(i-1)]，其中，sl为判定值，r为半径，θ为角度；如果判定值大于或等于零，则半径步长dr取负值；如果判定值小于零，则半径步长dr取正值。</td></tr><tr><td class="content" id="description_58">如果所述绝对值大于预设的上限阈值，则将dr取预设的半径步长，利用上述公式，计算得到角度步长dθ，并确定下一个的点。</td></tr><tr><td class="content" id="description_59">如果所述绝对值小于预设的下限阈值，则dθ取预设的角度步长，利用上述公式，计算得到半径步长dr，并确定下一个的点。</td></tr><tr><td class="content" id="description_60">如果所述绝对值小于或等于所述预设的上限阈值，大于或等于所述预设的下限阈值，则dθ取任意角度步长或dr取任意半径步长。</td></tr><tr><td class="content" id="description_61">步骤13：根据所述激光的传播轨迹，按照预设的算法，计算得到激光阴影、纹影及剪切干涉图像。</td></tr><tr><td class="content" id="description_62">由以上技术方案可知，本申请提供了一种获取激光阴影、纹影及剪切干涉图像的仿真计算方法，，只需给定目标区域轴对称的折射率分布以及光线的初始条件(数目、入射角、初始坐标)即可获得准确的光线传播轨迹，根据此轨迹和光学成像的原理，可以进一步地获得单透镜成像的阴影、纹影和剪切干涉图像。计算得到的阴影、纹影和剪切干涉图像可以与实验互相验证，验证给定的目标区域的折射率分布，检验阴影仪、纹影仪、剪切干涉仪等仪器或计算方法获得的折射率分布，分析这些仪器或者计算方法的可靠性以及误差。进一步地可以在此基础上修正给定的目标区域的折射率分布，直到得到与实验一致的的计算结果，此时可以进一步地根据准确的测试区域折射率分布来推导出相应的密度、浓度以及温度等状态量的分布。此外，本发明还可以配合阴影、纹影成像技术获得比较合理的轴对称折射率分布。阴影法和纹影法对于仪器的要求较低，适用范围也更广，在没有可靠仪器分析的场合，可以利用此方法和简单的仪器获得较准确的目标区域的折射率分布。</td></tr><tr><td class="content" id="description_63">参见图3，在本申请另一实施例中，上述步骤13包括如下步骤：</td></tr><tr><td class="content" id="description_64">步骤31：在像平面上划分出预设的区间。</td></tr><tr><td class="content" id="description_65">步骤32：根据所述激光的光线传播轨迹，计算折射率变化区域外的光线反向延长线与物平面的交点。</td></tr><tr><td class="content" id="description_66">步骤33：根据所述交点，计算得到像平面上对应的光线坐标。</td></tr><tr><td class="content" id="description_67">步骤34：如果所述光线坐标对应的光线不被凸透镜接收，则在像平面的预设区间内不统计所述光线；如果所述光线坐标对应的光线被凸透镜接收，则在像平面的预设区间内统计所述光线。</td></tr><tr><td class="content" id="description_68">步骤35：根据统计的在像平面的预设区间内的光线，得到激光阴影图像。</td></tr><tr><td class="content" id="description_69">图4(a)是无透镜聚焦时根据激光折射传播轨迹计算阴影图像的原理图，轴对称的折射率分布区域半径为R<base:Sub>n</base:Sub>，以某一径向平面建立了坐标系。此时，折射率变化区域中的折射率分布不均匀，使平行光线偏转，在屏幕上会呈现亮暗不均匀的图像，它反映的是被扰动光线的线位移。从图中可以发现，由于折射率分布是与径向距离r有关的，折射率的不均匀性对于x方向、y方向都是存在的。但是，折射率变化区域实际较小，传出折射率变化区域的光线在y方向没有发生明显的位移，此时的光线与x轴的夹角记为α，之后光线沿直线传播，它的反向延长线与y轴(x＝0平面)的交点P实际上与其对应的平行光线在无折射情况下与y轴的交点十分接近，因此在一定程度上可以假定：入射光线沿直线传播到达y轴时由于折射率的突然变化突然偏转α角度，之后继续沿直线传播。屏幕上会呈现的亮暗不均匀的图像是由于入射光线的偏转角α不同造成的，但如果是有透镜将入射光线聚焦到物距x＝0平面的情况，则像平面上通常不会有明暗的变化，除非光线的偏转角过大，无法传播到像平面上。</td></tr><tr><td class="content" id="description_70">通常，经过折射率变化区域的光线已经不是平行光了，偏转角α是y的函数，<img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708485&amp;blobId=3598756107" width="342"/>也可以根据光线传播轨迹传出折射率变化区域后斜率的反正切求出。从光强来看，在x＝0平面处的光线近似是均匀分布的，由于偏转了不同的角度，在远离折射率分布区域的观察屏幕上，x＝0平面上Δy区域内的光强映射到Δy<base:Sub>D</base:Sub>区域的光强发生了变化。若原始的光强为I<base:Sub>T</base:Sub>，则在屏幕上的光强为</td></tr><tr><td class="content" id="description_71"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708618&amp;blobId=3598789133" width="278"/></td></tr><tr><td class="content" id="description_72">Z<base:Sub>CD</base:Sub>是x＝0平面到屏幕的距离，则屏幕上的对比度R<base:Sub>D</base:Sub>为</td></tr><tr><td class="content" id="description_73"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708331&amp;blobId=3598762913" width="492"/></td></tr><tr><td class="content" id="description_74">从上述公式可以看出，阴影法只能显示折射率的二阶导数不均匀的折射率场，如果折射率分布区域沿y方向的折射率一阶导数为常数，那么所有光线的偏转角α都是相同的，显示屏幕被均匀地照明；如果在折射率变化区域中折射率的二阶导数是均匀分布的，则观察屏幕也被均匀地照明，只是强度增加或降低。</td></tr><tr><td class="content" id="description_75">参见图5，在本申请另一实施例中，上述步骤13还包括如下步骤：</td></tr><tr><td class="content" id="description_76">步骤51：在像平面上划分出预设的区间。</td></tr><tr><td class="content" id="description_77">步骤52：根据所述激光的光线传播轨迹，计算折射率变化区域外的光线反向延长线与物平面的交点。</td></tr><tr><td class="content" id="description_78">步骤53：根据所述交点，计算得到像平面上对应的光线坐标。</td></tr><tr><td class="content" id="description_79">步骤54：如果所述光线坐标对应的光线被凸透镜接收，且所述光线经刀口向上偏转，则在像平面的预设区间内统计所述光线。</td></tr><tr><td class="content" id="description_80">步骤55：根据统计的在像平面的预设区间内的光线，得到激光纹影图像。</td></tr><tr><td class="content" id="description_81">图4(b)是单透镜成像时根据激光折射传播轨迹计算纹影图像的原理图。纹影法的基本原理是用刀口切割光源像，把光线受流场的扰动转变为记录平面上光强的分布。由于从光源发出的光线在通过流体密度不均匀区时会发生偏转，刀口切割光源像的程度将取决于流体中折射率一阶导数的大小。刀口放在透镜L的右侧交点处，如果传播出折射率变化区域的光线往上偏转，则光线能越过刀口到达像平面上，呈现出亮的区域；如果传播出折射率变化区域的光线往下偏转，则光线会被刀口挡住，在像平面上对应的区域会呈现出暗的区域。此外，得到的纹影图像是不对称的，对于轴对称的折射率分布，光线的偏转关于x轴时对称的，则上下两条对称的光线必有一条被挡住，纹影法能比较准确地区分折射率的变化趋势。</td></tr><tr><td class="content" id="description_82">参见图6，在本申请又一实施例中，上述步骤13还包括如下步骤：</td></tr><tr><td class="content" id="description_83">步骤61：根据光源平面上的初始均匀分布的光线，利用光线追迹，得到每条光线在像平面上的对应坐标y<base:Sub>i</base:Sub>和光程l<base:Sub>i</base:Sub>。</td></tr><tr><td class="content" id="description_84">步骤62：根据所述坐标y<base:Sub>i</base:Sub>和光程l<base:Sub>i</base:Sub>，利用差值函数，得到光程关于像点坐标y的函数l<base:Sub>1</base:Sub>(y)＝interp1([y<base:Sub>i</base:Sub>],[l<base:Sub>i</base:Sub>],y)和平移后的光程函数l<base:Sub>2</base:Sub>(y)＝l(y-y<base:Sub>shear</base:Sub>)＝interp1([y<base:Sub>i</base:Sub>],[l<base:Sub>i</base:Sub>],y-y<base:Sub>shear</base:Sub>)，yshear为y方向相对位移。</td></tr><tr><td class="content" id="description_85">步骤63：根据所述光程关于像点坐标y的函数和平移后的光程函数，得到光强幅值向量函数A(y)。</td></tr><tr><td class="content" id="description_86">步骤64：根据坐标y<base:Sub>i</base:Sub>，利用如下公式，计算得像平面上的剪切干涉图像；</td></tr><tr><td class="content" id="description_87"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708165&amp;blobId=3598551924" width="492"/></td></tr><tr><td class="content" id="description_88">其中，l(y-y<base:Sub>sheay</base:Sub>)为平移后的光程函数，l(y)为光程关于像点坐标y的函数，A为光强幅值，yshear为y方向相对位移。</td></tr><tr><td class="content" id="description_89">图4(c)是单透镜成像时根据激光折射传播轨迹计算阴影和剪切干涉图像的原理图。物距、像距满足凸透镜实像成像公式：</td></tr><tr><td class="content" id="description_90"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708224&amp;blobId=3598814207" width="492"/></td></tr><tr><td class="content" id="description_91">f为凸透镜焦距，u、v为像距和物距。如前面所述，光线传出折射率变化区域后光线沿直线传播，它的反向延长线与y轴(x＝0平面)的交点P与其对应的平行光线在无折射情况下与y轴的交点十分接近，光线在像平面上的点等效于物平面上P点，也就是说，像平面接收到的光是等效的P点发出的一条光线，只是这条光线相对于入射的平行光线有一定的偏转，经过偏折的光线只有在传播出透镜外，未被凸透镜会聚时才会在像平面上出呈现暗的区域。因此，单透镜成像的阴影图像能反映的是测试区域中折射率较大的区域。</td></tr><tr><td class="content" id="description_92">凸透镜成像，物距一点发出的每一条到像点的光路的光程都相等(无扰动)，则x＝0平面(物平面)上P1点发出的光线在P1C1D1E1与P1FE1两条光路上经过的光程相等，P1，P2点的坐标分别为(0，y1)，(0，y2)。此外，物平面上的物点P1到像平面上的像点E1的光程与物点P2到像点E2的光程也相等，记为Limage，则有</td></tr><tr><td class="content" id="description_93"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708323&amp;blobId=3598071598" width="492"/></td></tr><tr><td class="content" id="description_94">其中，n<base:Sub>t</base:Sub>为凸透镜折射率。以光线1为例，A1-E1的总光程为：</td></tr><tr><td class="content" id="description_95"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708234&amp;blobId=3598799521" width="492"/></td></tr><tr><td class="content" id="description_96">其中Limage为常数，其余各项均为像点E纵坐标y的函数，因此L1可写成：</td></tr><tr><td class="content" id="description_97">L<base:Sub>1</base:Sub>＝l(y)+C；</td></tr><tr><td class="content" id="description_98">光线到达像平面上E1点的相位为：</td></tr><tr><td class="content" id="description_99"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708293&amp;blobId=3598212574" width="492"/></td></tr><tr><td class="content" id="description_100">若调整剪切干涉光路使两束物光在像平面上具有y方向相对位移yshear，则以其中一束物光为参考建立坐标平面，另一束光相位分布在此坐标平面上的表达式为</td></tr><tr><td class="content" id="description_101"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708418&amp;blobId=3598128331" width="492"/></td></tr><tr><td class="content" id="description_102">光源平面上电磁波电场分量用下面e的复指数的实部表示：</td></tr><tr><td class="content" id="description_103"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708526&amp;blobId=3598333883" width="360"/></td></tr><tr><td class="content" id="description_104">像平面上电场分量表示为</td></tr><tr><td class="content" id="description_105"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708311&amp;blobId=3598437392" width="486"/></td></tr><tr><td class="content" id="description_106"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708406&amp;blobId=3598678073" width="492"/></td></tr><tr><td class="content" id="description_107">其中，A1为光线1在像平面上E1点处的电场分量幅值，A2为剪切光束打到E1点光线的电场分量幅值。电场分量叠加后的实部即干涉后电场分量，令k＝2π/λ，则有</td></tr><tr><td class="content" id="description_108"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708678&amp;blobId=3598366640" width="492"/></td></tr><tr><td class="content" id="description_109">光强或电场分量幅值的平方为</td></tr><tr><td class="content" id="description_110"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708712&amp;blobId=3598490878" width="492"/></td></tr><tr><td class="content" id="description_111">当到达像平面上的电磁波电场分量幅值相等时，</td></tr><tr><td class="content" id="description_112"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708450&amp;blobId=3598824671" width="492"/></td></tr><tr><td class="content" id="description_113">光强或电场分量幅值的平方为</td></tr><tr><td class="content" id="description_114"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708613&amp;blobId=3598758898" width="492"/></td></tr><tr><td class="content" id="description_115">幅值不等存在的情况为：折射率不同的区域对光的吸收能力不同，或光线偏折出透镜时未到达像平面(此时A＝0)。</td></tr><tr><td class="content" id="description_116">从以上技术方案可以看出，首先是获得轴对称的折射率分布，可以从实验获得的阴影、纹影以及剪切干涉分析假设一种分布，也可以是根据阴影仪、纹影仪、干涉仪或者一些计算方法得到的折射率分布，作为变量代入到公式中。</td></tr><tr><td class="content" id="description_117">然后是需要给定均匀的激光入射光线的初始值(坐标、入射角)，给定特定的计算步长，设定计算的区域范围，使用四阶龙哥库塔法进行迭代，即可获得每条入射光线的传播轨迹。获得传出测试区域的光线在y轴的截距y0、光线的偏转方向、到达凸透镜处的纵坐标y1、相应的光程l、光线在像平面上的对应坐标y2以及对应的光强幅值A。</td></tr><tr><td class="content" id="description_118">最后是划分像平面上的成像区间，依据激光阴影、纹影和剪切干涉的光学成像原理计算出相应的光学图像。对于阴影和纹影图像的计算，先判断光线是否能被透镜镜接收，不被接收的光线，其反向延长线在物平面上的点所对应的像平面上的区间不统计此条光线，被接收的光线对于阴影图像来说计入像平面上对应区间，对于纹影图像来说还要判断光线的偏转方向，判断光线是否会被刀口遮挡，其它的处理方法与纹影相同。对于剪切干涉图像的计算，通过插值函数获得像平面上关于坐标y的光程函数l(y)和光强幅值向量函数A(y)，然后取相应的坐标向量[yj],根据剪切干涉的光强计算公式，即可获得像平面上的剪切干涉图像。</td></tr><tr><td class="content" id="description_119">结合图7折射定律计算计算光折射的示意图说明本方明方法的准确性。假定一个半径为2cm的轴对称的密度分布区域，此区域内折射率恒为1.5，对应图4中的Rn所在的区域，此区域外的折射率均为1。在坐标A(-4，1)点入射一条水平光线，在与半径为Rn的区域边界上B点发生生折射，根据适用于均匀的各向同性的媒质的折射定律</td></tr><tr><td class="content" id="description_120"><img src="/sipopublicsearch/servlet/rm/DownLoadServlet?rid=4312708645&amp;blobId=3598701319" width="264"/></td></tr><tr><td class="content" id="description_121">光线与y轴的交点C的坐标为(0，0.6780839)，使用上述的计算方法，使用四阶龙格库塔法迭代，在角度步长取0.0001时，计算得到的光线与y轴的交点为(0，0.6780938)，数值计算误差不足0.01％，因此，可以认为，只要给定的折射率分布区域是准确的，计算得到的阴影和纹影图像就是准确的，在认为激光光线在到达像平面上的电场分量的幅值相同的情况下，计算的剪切干涉的图像也是准确的。</td></tr><tr><td class="content" id="description_122">本发明涉及的这种基于空间折射率分布获取激光阴影、纹影及干涉图像的仿真计算方法使用十分便捷，只需给定目标区域轴对称的折射率分布以及光线的初始条件(数目、入射角、初始坐标)即可获得准确的光线传播轨迹，根据此轨迹和光学成像的原理，可以进一步地获得单透镜成像的阴影、纹影和剪切干涉图像，当然依据其它的光学成像原理获得诊断图像，此方法也是可以计算的。</td></tr><tr><td class="content" id="description_123">由以上技术方案可知，本申请提供了一种获取激光阴影、纹影及剪切干涉图像的仿真计算方法，，只需给定目标区域轴对称的折射率分布以及光线的初始条件(数目、入射角、初始坐标)即可获得准确的光线传播轨迹，根据此轨迹和光学成像的原理，可以进一步地获得单透镜成像的阴影、纹影和剪切干涉图像。计算得到的阴影、纹影和剪切干涉图像可以与实验互相验证，验证给定的目标区域的折射率分布，检验阴影仪、纹影仪、剪切干涉仪等仪器或计算方法获得的折射率分布，分析这些仪器或者计算方法的可靠性以及误差。进一步地可以在此基础上修正给定的目标区域的折射率分布，直到得到与实验一致的的计算结果，此时可以进一步地根据准确的测试区域折射率分布来推导出相应的密度、浓度以及温度等状态量的分布。此外，本发明还可以配合阴影、纹影成像技术获得比较合理的轴对称折射率分布。阴影法和纹影法对于仪器的要求较低，适用范围也更广，在没有可靠仪器分析的场合，可以利用此方法和简单的仪器获得较准确的目标区域的折射率分布。</td></tr></table></div></body></html>